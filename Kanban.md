# Канбан #



**Канбан** (яп. カンバン?) — система организации производства и снабжения, позволяющая реализовать принцип «точно в срок».

Разработана и впервые в мире реализована фирмой «Toyota». В 1959 году эта фирма начала эксперименты с системой канбан и в 1962 году начала процесс перевода всего производства на этот принцип. В основе канбан лежат теоретические построения Фредерика Тейлора, Генри Форда.

В основе организации производства фирмы «Toyota» лежит годовой план производства и сбыта автомобилей, на базе которого составляются месячные и оперативные планы среднесуточного выпуска на каждом участке, основанные на прогнозировании покупательского спроса (период упреждения — 1 и 3 месяца). Суточные графики производства составляются только для главного сборочного конвейера. Для цехов и участков, обслуживающих главный конвейер, графики производства не составляются (им устанавливаются лишь ориентировочные месячные объемы производства).

Постоянное использование философии «точно в срок» позволяет раскрыть не обнаруженные до сих пор дефекты. Запасы очень хорошо приспособлены для сокрытия дефектов. Только при уменьшении запасов можно разглядеть проблемы. Это очень похоже на то, как высокий уровень воды скрывает подводные рифы.

Слово «канбан» по-японски означает «рекламный щит, вывеска» (яп. 看板?).

## Разработка с Канбан и ограничение количества незаконченной работы ##

Канбан-мышление в разработке ПО старается ограничивать количество незаконченной работы. Мы хотим ограничивать ненужную незаконченную работу так, чтобы она никогда не выходила за рамки пропускной способности команды. Канбан-мышление в _Agile-разработке_ приводит к глобальной уборке и отказу от большого количества практик, которые считаются полезными в _Agile_.

В Канбан-разработке:

  * Отменяется разработка по фазам с четкими временными границами
  * Пользовательские истории больше, а их самих меньше
  * Оценка (estimation) сводится к минимуму или убирается насовсем
  * Внимание переходит со скорости разработки на продолжительность цикла

А что вообще тогда остается от _Agile_, если мы отказывается от фаз с четкими временными границами, меняем значение и размер пользовательских историй и перестаем замерять скорость разработки?

## Канбан-разработка как она есть ##

**Канбан-разработка** крутится вокруг визуальной доски, которую мы используем для управления незаконченной работой (неудивительно, учитывая перевод слова "Канбан"). В _Agile_ пользовательские истории часто располагают на доске с колонками, представляющими собой стадии, через которые проходит история, например, "разработка" или "тестирование". Канбан-доска похожа на эту доску, но при этом добавляет некоторое количество других правил.

[[Image(![http://agileproductdesign.com/blog/2009/images/kanban_board.jpg](http://agileproductdesign.com/blog/2009/images/kanban_board.jpg))]]

Основной идеей является то, что истории стартуют с левого края доски и проезжают всю доску слева-направо, попутно проходя через те фазы разработки, без которых эти истории нельзя будет назвать завершенными. Завершенные истории, готовые к запуску в продакшн-окружении, копятся на правом краю доски. И, поскольку это Канбан-доска и мы собираемся ограничивать количество незавершенной работы, мы ограничим количество пользовательских историй, одновременно находящихся на доске. Числа, написанные снизу каждой колонки, представляют собой максимальное количество историй, допустимое в данной конкретной колонке.

#### Канбан доска - слева-направо ####
##### 1. Goals - цели #####

У самого левого края Канбан-доски расположена колонка целей. Здесь мы найдем глобальные цели – крупные вещи, к которым мы стремимся и под которые поднастраиваем наше программное обеспечение. Оставляя цели на самом краю доски, мы фокусируем всех членов команды на одном: на достижении этих целей. Эта идея была взята у Арло Белши, который опытным путем определил, что размещение целей на левой стороне доски Канбан существенно снижает объем "мусора" на доске. Под "мусором" здесь понимается частое изменение приоритетов отдельных Канбан карточек.

##### 2. Stories queue - очередь историй #####

В следующей колонке хранится очередь историй, готовых к запуску. Это именно очередь, поскольку истории в ней упорядочены по времени поступления. Первая пришедшая история будет начата раньше всех, при этом она переместится в другие колонки, а остальные истории сместятся вверх по очереди.

##### 3. Стадии разработки истории #####

Справа от очереди историй расположены колонки со стадиями разработки, через которые должна пройти история, чтобы считаться выполненной.

Первая колонка часто используется для стадии прорабатывания истории. История должна находиться в этой колонке, если в данный момент осуществляется прототипирование UI или описание истории расширяется до необходимого для разработки уровня. У вас же может быть отдельная колонка для стадии, когда бизнес аналитики аккумулируют необходимые для разработки доменные знания.

Следующая колонка часто используется для собственно разработки, а следующая за ней - для тестирования.

**Эти колонки не фиксированы**. Вы должны обсудить с вашей командой те стадии, через которые проходит история, прежде чем помечаться как "выполненная". В некоторых компаниях отдельные колонки могут выделяться под написание документации или под подготовку инженеров поддержки для выпускаемой функциональности.

**Колонки - не роли в команде**. Пускай часто и совпадает, что в отдельной колонке работают люди одной роли в команде, фокус должен делаться не на этом, а на выполнении истории и на том, что ей необходимо для выполнения. Например, если в вашей компании не используются бизнес-аналитики или дизайнеры пользовательского взаимодействия, используйте первую колонку для совместной проработки историй разработчиками и представителями бизнеса. Здесь же стоит определить критерии "готовности" истории. Просто взять и начать писать код (следующая стадия) - плохой ход, особенно если у вас нет критериев, по которым вы сможете оценивать готовность вашей работы.

Каждая стадия разделена на две части: верх используется для историй, находящихся в разработке, а низ - для буфера историй. Когда работа над определенной стадией определенной истории заканчивается, историю перемещают из блока "в процессе" в буфер, где она будет дожидаться перевода на следующую стадию. У последней стадии нет буфера, поскольку эта стадия истории завершается при завершении истории. Когда мы ограничиваем количество невыполненной работы, мы устанавливаем рамки для общего количества историй в стадии, которое включает в себя как текущие истории, так и истории в буфере.

##### 4. Done! - Сделано! #####

Когда история завершается, она готова к поставке на продакшн.


---


Дополнительные материалы:
  * [Гибкая методология разработки](http://ru.wikipedia.org/wiki/Гибкая_методология_разработки)
  * [Методология разработки ПО Rational Unified Process](Rational_Unified_Process.md)